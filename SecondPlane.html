<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">

        <title>Plane Fun Flying Club | Portland / Vancouver</title>
        <meta name="description" content="A Portland / Vancouver flying club based out of Pearson Field KVUO.">
        <meta name="author" content="PFFC">
        
        <!-- fonts -->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet">
        
        <!-- favicon -->
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        
        <style>
            body {
                font-family: 'Montserrat', sans-serif;
                font-size: 18px;
            }
            .wrap {
                width: 90%;
                max-width: 800px;
                margin: 0 auto;
            }
            h1, h2, h3, address {
                text-align: center;
                width: 100%;
                margin: 65px 0;
            }
            .align-left {
                text-align: left;
            }
            .image_container {
                display: block;
                text-align: center;
            }
            td {
                padding: 3px 6px;
            }
            img {
                width: 100%;
                height: auto;
            }
        </style>
        <script type="text/javascript">
            function RecalculateGrid(){
                var rate = Number(document.getElementById("Rate").value);
                var years = Number(document.getElementById("Years").value);
                var costs = Number(document.getElementById("Costs").value);
                
                var monthlyRate = (rate/100)/12;
                var months = years * 12;
                var monthlyFactor = (monthlyRate + 1) ** months;
                var paymentFactor = (monthlyRate * monthlyFactor)/(monthlyFactor - 1)
                
                for (var w = 1; w <= 10; w++)
                {
                    for(var p = 100; p <= 400; p += 50)
                    {
                        let downPayment = w * 15000;
                        let loanAmount = (p * 1000) - downPayment;
                        if (loanAmount < 0)
                            loanAmount = 0;
                        let loanPayment = loanAmount * paymentFactor;
                        let totalPayment = 3300 + loanPayment + costs;
                        let perMemberCost = totalPayment / (10 + w);

                        let cell = document.getElementById(`w${w}p${p}`);
                        cell.innerHTML = "$" + perMemberCost.toFixed(2);
                        cell.style.border = loanAmount == 0 ? "medium" : "none";
                        
                        if(perMemberCost < 300)
                            cell.style.backgroundColor = "LightGreen";
                        else if (perMemberCost >= 300 && perMemberCost <= 360)
                            cell.style.backgroundColor = "LightSkyBlue";
                        else if (perMemberCost > 360 && perMemberCost < 390)
                            cell.style.backgroundColor = "Khaki";
                        else if (perMemberCost >= 390)
                            cell.style.backgroundColor = "LightCoral";
                    }
                }
            }
        </script>
    </head>
    <body class="wrap" onload="RecalculateGrid()">
      <h1>Second Airplane Calculations</h1>
      <h2>Settings</h2>
      <table>
        <tr><th>Rate %</th><th>Years</th><th>Other Monthly Costs</th></tr>
        <tr>
          <td><input type="number" id="Rate" name="Rate" value="7" onchange="RecalculateGrid()"></td>
          <td><input type="number" id="Years" name="Years" value="15" onchange="RecalculateGrid()"></td>
          <td><input type="number" id="Costs" name="Costs" value="1500" onchange="RecalculateGrid()"></td>
        </tr>
      </table>
        <h2>Cost/Month/Member</h2>
        <table>
            <tr><th/><th colspan="10">Waitlist</th></tr>
            <tr><th>Airplane Price</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th></tr>
            <tr>
                <th>$100k</th>
                <td id="w1p100"/>
                <td id="w2p100"/>
                <td id="w3p100"/>
                <td id="w4p100"/>
                <td id="w5p100"/>
                <td id="w6p100"/>
                <td id="w7p100"/>
                <td id="w8p100"/>
                <td id="w9p100"/>
                <td id="w10p100"/>
            </tr>
            <tr>
                <th>$150k</th>
                <td id="w1p150"/>
                <td id="w2p150"/>
                <td id="w3p150"/>
                <td id="w4p150"/>
                <td id="w5p150"/>
                <td id="w6p150"/>
                <td id="w7p150"/>
                <td id="w8p150"/>
                <td id="w9p150"/>
                <td id="w10p150"/>
            </tr>
            <tr>
                <th>$200k</th>
                <td id="w1p200"/>
                <td id="w2p200"/>
                <td id="w3p200"/>
                <td id="w4p200"/>
                <td id="w5p200"/>
                <td id="w6p200"/>
                <td id="w7p200"/>
                <td id="w8p200"/>
                <td id="w9p200"/>
                <td id="w10p200"/>
            </tr>
            <tr>
                <th>$250k</th>
                <td id="w1p250"/>
                <td id="w2p250"/>
                <td id="w3p250"/>
                <td id="w4p250"/>
                <td id="w5p250"/>
                <td id="w6p250"/>
                <td id="w7p250"/>
                <td id="w8p250"/>
                <td id="w9p250"/>
                <td id="w10p250"/>
            </tr>
            <tr>
                <th>$300k</th>
                <td id="w1p300"/>
                <td id="w2p300"/>
                <td id="w3p300"/>
                <td id="w4p300"/>
                <td id="w5p300"/>
                <td id="w6p300"/>
                <td id="w7p300"/>
                <td id="w8p300"/>
                <td id="w9p300"/>
                <td id="w10p300"/>
            </tr>
            <tr>
                <th>$350k</th>
                <td id="w1p350"/>
                <td id="w2p350"/>
                <td id="w3p350"/>
                <td id="w4p350"/>
                <td id="w5p350"/>
                <td id="w6p350"/>
                <td id="w7p350"/>
                <td id="w8p350"/>
                <td id="w9p350"/>
                <td id="w10p350"/>
            </tr>
            <tr>
                <th>$400k</th>
                <td id="w1p400"/>
                <td id="w2p400"/>
                <td id="w3p400"/>
                <td id="w4p400"/>
                <td id="w5p400"/>
                <td id="w6p400"/>
                <td id="w7p400"/>
                <td id="w8p400"/>
                <td id="w9p400"/>
                <td id="w10p400"/>
            </tr>
        </table>
    </body>
</html>
